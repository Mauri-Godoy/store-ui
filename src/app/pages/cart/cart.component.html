<div class="grid grid-cols-4 grid-rows-1 gap-2 h-fit" *ngIf="cartItems.length > 0; else emptyCart">

  <ul class="list bg-base-100 rounded-box shadow-md col-span-3 h-fit">
    <h2 class="card-title pt-4 pl-4 uppercase">Productos en el carrito</h2>

    <li class="list-row" *ngFor="let item of cartItems">
      <div> <img class="h-20 w-20" [src]="item.product.imageUrl" [alt]="item.product.name" />
      </div>
      <div class="flex flex-col justify-between">
        <div>
          <a class="link link-hover font-semibold" [routerLink]="['/product', item.product.id]">{{item.product.name}}</a>
          <p class="text-xs">{{item.product.description}}</p>
        </div>
        <div class="text-xs uppercase font-semibold text-primary text-right">{{item.quantity}} x {{item.product.price |
          currency}}</div>
      </div>
      <button class="btn btn-square btn-error btn-sm text-white" (click)="removeItem(item.product.id)">
        <lucide-angular [img]="Trash"></lucide-angular>
      </button>
    </li>

  </ul>

  <div class="card bg-base-100 w-96 shadow-sm col-span-1 h-fit sticky top-4">
    <div class="card-body">
      <h2 class="card-title text-center uppercase">Resumen de compra</h2>

      <div class="flex justify-between">
        <p>Total</p>
        <p class="text-right text-primary font-semibold">{{total | currency}}</p>
      </div>
      <div class="divider"></div>

      <div class="card-actions">
        <button class="btn btn-primary w-full" (click)="createCart()">Finalizar compra</button>
      </div>
    </div>
  </div>

</div>

<ng-template #emptyCart>
  <div class="flex justify-center flex-col items-center p-2 shadow bg-base-100 rounded-box">
    <p class="p-4 text-gray-500">No hay productos en el carrito</p>
    <button class="btn btn-primary w-full max-w-3/6" type="button" [routerLink]="['/products']">Ir a la
      tienda</button>
  </div>
</ng-template>